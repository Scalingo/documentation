{% assign listcategories = site.categories.index.first %}
<ul class="nav flex-column">
  {% for categorie in listcategories.tags %}
  <ul>
    <li class="nav-item">
      <h6>{{ categorie }}</h6>
    </li>
    {% if site.categories.[categorie] %}
      {% assign posts = (site.categories.[categorie] | sort: 'title') %}
      {% for post in posts %}
        <li>

          {% if page.url == post.url %}
            <a title="{{ post.title }}" class="currentlink" href="{{ post.url }}"><p style="font-weight: bold;">{{ post.title }}</p></a>

            <script type="text/javascript">
              $(".currentlink").parent().css({'display': 'block'});
            </script>

          {% else %}
            <a title="{{ post.title }}" href="{{ post.url }}" role="button"><p>{{ post.title }}</p></a>
          {% endif %}

          <ul>

            {% if site.categories.[post.tags.first] %}
              {% assign subposts = (site.categories.[post.tags.first] | sort: 'title') %}
              {% for subpost in subposts %}
                <li>
                  {% if page.url == subpost.url %}
                    <a title="{{ subpost.title }}" id="currentpost" href="{{ subpost.url }}"><p style="font-weight: bold;">{{ subpost.title }}</p></a>

                    <script type="text/javascript">
                      $("#currentpost").parent().parent().css({'display': 'block'});
                      $("#currentpost").parent().parent().parent().addClass("currentlink");
                    </script>

                  {% else %}
                    <a title="{{ subpost.title }}" href="{{ subpost.url }}"><p>{{ subpost.title }}</p></a>
                  {% endif %}
                </li>
              {% endfor %}
            {% endif %}

          </ul>
        </li>
      {% endfor %}
    {% endif %}
  </ul>
  {% endfor %}
</ul>
