---
title: Scalingo for PostgreSQL®
nav: Introduction
modified_at: 2023-06-22 00:00:00
tags: databases postgresql addon
index: 1
---


## Remote Access Your Database

If you need to access your database from other places than your app please
follow the [Access your database]({% post_url
platform/databases/2000-01-01-access %}) guide.

## Changing Plans

You can upgrade or downgrade your database plan whenever you need it. This
operation happens instantly, no manual input is required.
When you change the plan, the instances of your database will be stopped then
restarted with the characteristics of the chosen plan. According to the type of
plan you are using the impact on your application will differ:

* **Starter Plans:** Since these plans are not highly available, the database
  will be unavailable during the whole operation: ~2 minutes of interruption.
* **Business Plans:** Thanks to high availability, only a failover will occur
  during the operation. Current connections are stopped and the application has
  to reconnect. It can be transparent or lead to a ~2-5 seconds of interruption
  according to the driver used by your application and its configuration.

In both cases, after the operation the application will be restarted to ensure
it creates new healthy connections to the database.

### From the Dashboard

1. Go to your app on [Scalingo Dashboard](https://my.scalingo.com/apps)
2. Click on **Addons** tab
3. Select the addon you want to change
4. In the dialog select the plan you want to upgrade/downgrade to
5. Validate your choice

### From the Command-Line Interface

To upgrade or downgrade your addon the sub-command is the same: `addons-upgrade`.

```bash
$ scalingo --app my-app addons-upgrade my-app-3030 postgresql-business-2048
```

In this example, `my-app-3030` is the ID of the addon, and
`postgresql-business-2048` is the plan we want to upgrade to.

To find out the addon ID:

```bash
$ scalingo --app my-app addons

+------------+-------------+--------------------------+
|   ADDON    |      ID     |           PLAN           |
+------------+-------------+--------------------------+
| PostgreSQL | my-app-3030 | postgresql-business-1024 |
+------------+-------------+--------------------------+
```

## Database Dashboard

The Scalingo for PostgreSQL® dashboard is the central place for administrative
tasks such as:

- Monitor database and system stats
- Upgrade the database engine version
- Activate database specific features
- Manage database users
- Manage backups

{% assign img_url = "https://cdn.scalingo.com/documentation/screenshot_database_postgresql_overview.png" %}
{% include mdl_img.html %}

### Database Upgrade

When the database vendor releases a new version of your database engine, we will
try to provide it as soon as possible. You will have the choice to upgrade your
database with one click through your database dashboard.

{% note %}
Your database needs to be upgraded to the latest minor version before having access to the next major version.
For instance, your version is 2.3.X and you want to upgrade to 3.1.X. If there is a 2.5.X version, you need to upgrade it to the 2.5.X first.
{% endnote %}

If your database uses a business plan, we are able to achieve zero-downtime
upgrade of minor version. In the case of major version upgrade, we need to
completely stop the nodes, hence we can't achieve zero-downtime. On single node
database, we need to stop the node in order to upgrade it, whatever the version
to upgrade.

When this operation finishes, your application is restarted.

{% warning %}
Beware that no downgrade is possible once your database has been upgraded.
{% endwarning %}

### Container Stats

<div class="overflow-horizontal-content">
  <table class="mdl-data-table ">
    <tbody>
      <tr>
        <td class="mdl-data-table__cell--non-numeric">CPU usage</td>
        <td class="mdl-data-table__cell--non-numeric">Current CPU usage.</td>
      </tr>
      <tr>
        <td class="mdl-data-table__cell--non-numeric">Memory usage</td>
        <td class="mdl-data-table__cell--non-numeric">Display the current, hightest and free memory. Highest is the maximum memory recorded since database restarted.</td>
      </tr>
      <tr>
        <td class="mdl-data-table__cell--non-numeric">Swap usage</td>
        <td class="mdl-data-table__cell--non-numeric">Display the current, hightest and free swap. Highest is the maximum swap recorded since database restarted.</td>
      </tr>
    </tbody>
  </table>
</div>

### Database Stats

<div class="overflow-horizontal-content">
  <table class="mdl-data-table ">
    <tbody>
      <tr>
        <td class="mdl-data-table__cell--non-numeric">Database connections</td>
        <td class="mdl-data-table__cell--non-numeric">Number of currently open and maximum connections.</td>
      </tr>
      <tr>
        <td class="mdl-data-table__cell--non-numeric">Data size</td>
        <td class="mdl-data-table__cell--non-numeric">Logical space reported by the database.</td>
      </tr>
      <tr>
        <td class="mdl-data-table__cell--non-numeric">Database on disk size</td>
        <td class="mdl-data-table__cell--non-numeric">Effective physical space used.</td>
      </tr>
    </tbody>
  </table>
</div>

### Database Users



## Backups

Scalingo for PostgreSQL® databases offer two way of backing up the data.

### Point-in-Time Recovery

Point-in-time recovery (PITR) allows you to ask for the restoration of your data
at a specific date. We achieve this by making a full PITR backup of the database
weekly. Between two PITR backups, we keep track of the write-ahead logs (WAL).
The WAL contains all the modification instructions. By replaying the WAL from a
PITR backup to a specific date, we are able to rebuild the state of the database
at that date.

You have nothing to do to be able to use the PITR mechanism (on a paying plan). Be aware that you
can only use the PITR on the period between now and now minus seven days.

{% warning %}
Restoring a database by using the Point-in-time recovery feature requires the database to be completely stopped.
{% endwarning %}

### On-Demand Backups

{% include database_backups.md %}

{% note %}
If your database has multiple nodes, the dump is done on the secondary node.
{% endnote %}

#### Download Automated Backups

Automated backups are listed in the database specific dashboard.

1. Go to your app on [Scalingo Dashboard](https://my.scalingo.com/apps)
2. Click on **Addons** tab
3. Click **Link to dashboard** which will take you to the **Scalingo for PostgreSQL® dashboard**
4. Click on **Backups** tab
5. Download the backup you want

{% assign img_url = "https://cdn.scalingo.com/documentation/screenshot_database_postgresql_backups.png" %}
{% include mdl_img.html %}

{% include encryption_at_rest.md %}



## Client Customization

You can customize the PostgreSQL® client by adding a `.psqlrc` in your app directory.

For example:
```
\set ON_ERROR_ROLLBACK interactive
\set COMP_KEYWORD_CASE upper
\set HISTFILE ~/.psql/history- :DBNAME

\pset pager off
\pset null '(null)'
```
